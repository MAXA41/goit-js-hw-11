{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/img/error.svg","../src/main.js"],"sourcesContent":["\r\nimport axios from \"axios\";\r\n\r\nconst API_KEY = \"49830885-3c4fb55cab3b8487f16091a9c\"\r\n\r\nexport async function getImagesByQuery(query) {\r\n  const response = await axios.get(\"https://pixabay.com/api/\", {\r\n    params: {\r\n      key: API_KEY,\r\n      q: query,\r\n      image_type: \"photo\",\r\n      orientation: \"horizontal\",\r\n      safesearch: true,\r\n    },\r\n  });\r\n\r\n  return response.data;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n    \r\n","\r\n\r\nimport SimpleLightbox from \"simplelightbox\";\r\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\r\n\r\nconst gallery = document.querySelector(\".gallery\");\r\nconst loader = document.querySelector(\".loader\");\r\n\r\nconst lightbox = new SimpleLightbox(\".gallery a\", {\r\n  captionsData: \"alt\",\r\n  captionDelay: 250,\r\n});\r\n\r\nexport function createGallery(images) {\r\n  const markup = images\r\n    .map(\r\n      ({ largeImageURL, webformatURL, tags, likes, views, comments, downloads }) => `\r\n        <li class=\"gallery-item\">\r\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\r\n            <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\" height=\"152\" />\r\n          </a>\r\n          <ul class=\"gallery-info\">\r\n            <li class=\"gallery-info-item\"><b>Likes</b> ${likes}</li>\r\n            <li class=\"gallery-info-item\"><b>Views</b> ${views}</li>\r\n            <li class=\"gallery-info-item\"><b>Comments</b> ${comments}</li>\r\n            <li class=\"gallery-info-item\"><b>Downloads</b> ${downloads}</li>\r\n          </ul>\r\n        </li>\r\n      `\r\n    )\r\n    .join(\"\");\r\n\r\n  gallery.innerHTML = markup;\r\n  lightbox.refresh(); \r\n}\r\n\r\nexport function clearGallery() {\r\n  gallery.innerHTML = \"\";\r\n}\r\n\r\nexport function showLoader() {\r\n  loader.classList.remove(\"is-hidden\");\r\n}\r\n\r\nexport function hideLoader() {\r\n  loader.classList.add(\"is-hidden\");\r\n}\r\n","export default \"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20fill='none'%3e%3cpath%20fill='%23FAFAFB'%20d='M6.81.219A.75.75%200%200%201%207.34%200h9.32a.75.75%200%200%201%20.53.219l6.591%206.591a.75.75%200%200%201%20.219.53v9.32a.75.75%200%200%201-.219.53l-6.591%206.591a.75.75%200%200%201-.53.219H7.34a.75.75%200%200%201-.53-.219L.219%2017.19A.75.75%200%200%201%200%2016.66V7.34a.75.75%200%200%201%20.219-.53L6.81.219ZM7.65%201.5%201.5%207.65v8.7l6.15%206.15h8.7l6.15-6.15v-8.7L16.35%201.5h-8.7Z'/%3e%3cpath%20fill='%23FAFAFB'%20d='M6.969%206.969a.75.75%200%200%201%201.062%200L12%2010.939l3.969-3.97a.75.75%200%201%201%201.062%201.062L13.061%2012l3.97%203.969a.752.752%200%200%201-1.062%201.062L12%2013.061l-3.969%203.97a.752.752%200%200%201-1.282-.531.751.751%200%200%201%20.22-.531L10.939%2012%206.97%208.031a.75.75%200%200%201%200-1.062Z'/%3e%3c/svg%3e\"","\r\n// // У файлі main.js напиши всю логіку роботи додатка. \r\n// // Виклики нотифікацій iziToast, усі перевірки на довжину масиву \r\n// // в отриманій відповіді робимо саме в цьому файлі. Імпортуй в \r\n// // нього функції із файлів pixabay-api.js та render-functions.js \r\n// // та викликай їх у відповідний момент.\r\n\r\nimport { getImagesByQuery } from \"./js/pixabay-api\";\r\nimport {\r\n  createGallery,\r\n  clearGallery,\r\n  showLoader,\r\n  hideLoader,\r\n} from \"./js/render-functions\";\r\n\r\nimport iziToast from \"izitoast\";\r\nimport \"izitoast/dist/css/iziToast.min.css\";\r\nimport iconError from \"./img/error.svg\"\r\n\r\nconst form = document.querySelector(\".form\");\r\n\r\nform.addEventListener(\"submit\", event => {\r\n  event.preventDefault();\r\n\r\n  const query = event.target.elements[\"search-text\"].value.trim().toLowerCase();\r\n\r\n  if (query === \"\") {\r\n    iziToast.error({\r\n      message: \"Please enter a search query.\",\r\n      position: \"topRight\",\r\n      backgroundColor: \"#ef4040\",\r\n      titleColor: \"#fff\",\r\n      messageColor: \"#fff\",\r\n      class: \"error-icon\",\r\n      iconUrl: iconError,\r\n    });\r\n    return;\r\n  }\r\n\r\n  clearGallery();\r\n  showLoader();\r\n  \r\n    getImagesByQuery(query)\r\n      .then(data => {\r\n        if (data.hits.length === 0) {\r\n          iziToast.error({\r\n            message: \"Sorry, there are no images matching<br/> your search query. Please try again!\",\r\n            position: \"topRight\",\r\n            backgroundColor: \"#ef4040\",\r\n            titleColor: \"#fff\",\r\n            messageColor: \"#fff\",\r\n            class: \"error-icon\",\r\n            iconUrl: iconError,\r\n          });\r\n          return;\r\n        }\r\n  \r\n    createGallery(data.hits);\r\n    form.reset();\r\n        \r\n      })\r\n      .catch(error => {\r\n        iziToast.error({\r\n          message: \"Something went wrong. Please try again later!\",\r\n          position: \"topRight\",\r\n          backgroundColor: \"#ef4040\",\r\n          titleColor: \"#fff\",\r\n          messageColor: \"#fff\",\r\n          class: \"error-icon\",\r\n          iconUrl: iconError,\r\n        });\r\n        console.log(\"Fetch error:\", error);\r\n      })\r\n      .finally(() => {\r\n        hideLoader();\r\n      });\r\n  });\r\n  \r\n"],"names":["API_KEY","getImagesByQuery","query","axios","gallery","loader","lightbox","SimpleLightbox","createGallery","images","markup","largeImageURL","webformatURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","iconError","form","event","iziToast","data","error"],"mappings":"owBAGA,MAAMA,EAAU,qCAET,eAAeC,EAAiBC,EAAO,CAW5C,OAViB,MAAMC,EAAM,IAAI,2BAA4B,CAC3D,OAAQ,CACN,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACL,CAAG,GAEe,IAClB,CCZA,MAAME,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IACC,CAAC,CAAE,cAAAE,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,0CAE1CN,CAAa;AAAA,8CACTC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA,yDAGfC,CAAK;AAAA,yDACLC,CAAK;AAAA,4DACFC,CAAQ;AAAA,6DACPC,CAAS;AAAA;AAAA;AAAA,OAIjE,EACA,KAAK,EAAE,EAEVb,EAAQ,UAAYM,EACpBJ,EAAS,QAAO,CAClB,CAEO,SAASY,GAAe,CAC7Bd,EAAQ,UAAY,EACtB,CAEO,SAASe,GAAa,CAC3Bd,EAAO,UAAU,OAAO,WAAW,CACrC,CAEO,SAASe,GAAa,CAC3Bf,EAAO,UAAU,IAAI,WAAW,CAClC,CC9CA,MAAegB,EAAA,23BCmBTC,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMrB,EAAQqB,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,OAAO,cAEhE,GAAIrB,IAAU,GAAI,CAChBsB,EAAS,MAAM,CACb,QAAS,+BACT,SAAU,WACV,gBAAiB,UACjB,WAAY,OACZ,aAAc,OACd,MAAO,aACP,QAASH,CACf,CAAK,EACD,MACD,CAEDH,IACAC,IAEElB,EAAiBC,CAAK,EACnB,KAAKuB,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CACb,QAAS,gFACT,SAAU,WACV,gBAAiB,UACjB,WAAY,OACZ,aAAc,OACd,MAAO,aACP,QAASH,CACrB,CAAW,EACD,MACD,CAELb,EAAciB,EAAK,IAAI,EACvBH,EAAK,MAAK,CAEd,CAAO,EACA,MAAMI,GAAS,CACdF,EAAS,MAAM,CACb,QAAS,gDACT,SAAU,WACV,gBAAiB,UACjB,WAAY,OACZ,aAAc,OACd,MAAO,aACP,QAASH,CACnB,CAAS,EACD,QAAQ,IAAI,eAAgBK,CAAK,CACzC,CAAO,EACA,QAAQ,IAAM,CACbN,GACR,CAAO,CACP,CAAG"}